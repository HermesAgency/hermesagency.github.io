---

---

<!-- Start Form -->
<div
    class="form__container rounded-3xl bg-gradient-to-br from-[#FDE68A] to-[#FDE68A]/15 p-[1px] shadow-xl"
>
    <form
        id="contactForm"
        class="flex flex-col gap-6 rounded-3xl bg-neutral px-[18px] py-9"
    >
        <!-- Name Input -->
        <label class="form-control w-full">
            <div class="label">
                <span class="label-text text-neutral-content"
                    >Nombre / Empresa:</span
                >
            </div>
            <input
                type="text"
                placeholder="Ejemplo: Carlos Espinoza o Alojamiento 'La flor'"
                id="nameInput"
                class="input w-full border-x-0 border-b border-t-0 border-orange-300 bg-neutral px-2 py-3 text-neutral-content transition-colors duration-300 placeholder:translate-y-full placeholder:text-sm placeholder:text-neutral-content placeholder:opacity-0 placeholder:transition-[opacity,transform] focus:placeholder:-translate-y-1/3 focus:placeholder:opacity-40 focus-visible:border-b-[2px] focus-visible:border-amber-200"
            />
            <div class="label">
                <span class="label-text-alt text-red-400"></span>
            </div>
        </label>
        <!-- End Name Input -->
        <!-- Email Input -->
        <label class="form-control w-full">
            <div class="label">
                <span class="label-text text-neutral-content"
                    >Correo Electronico (opcional):</span
                >
            </div>
            <input
                type="text"
                id="emailInput"
                placeholder="Ejemplo: carlosespinoza@gmail.com"
                class="input w-full border-x-0 border-b border-t-0 border-orange-300 bg-neutral px-2 py-3 text-neutral-content transition-colors duration-300 placeholder:translate-y-full placeholder:text-sm placeholder:text-neutral-content placeholder:opacity-0 placeholder:transition-[opacity,transform] focus:placeholder:-translate-y-1/3 focus:placeholder:opacity-40 focus-visible:border-b-[2px] focus-visible:border-amber-200"
            />
            <div class="label">
                <span class="label-text-alt text-red-400"></span>
            </div>
        </label>
        <!-- End Email Input -->
        <!-- Tel Input -->
        <label class="form-control w-full">
            <div class="label">
                <span class="label-text text-neutral-content">Telefono:</span>
            </div>
            <input
                type="text"
                id="telInput"
                placeholder="Ejemplo: 3447 123456"
                class="input w-full border-x-0 border-b border-t-0 border-orange-300 bg-neutral px-2 py-3 text-neutral-content transition-colors duration-300 placeholder:translate-y-full placeholder:text-sm placeholder:text-neutral-content placeholder:opacity-0 placeholder:transition-[opacity,transform] focus:placeholder:-translate-y-1/3 focus:placeholder:opacity-40 focus-visible:border-b-[2px] focus-visible:border-amber-200"
            />
            <div class="label">
                <span class="label-text-alt text-red-400"></span>
            </div>
        </label>
        <!-- End Tel Input -->
        <!-- message Input -->
        <label class="form-control w-full">
            <div class="label">
                <span class="label-text text-neutral-content"
                    >Mensaje (opcional):</span
                >
            </div>
            <textarea
                id="messageInput"
                placeholder="Ejemplo: Me comunico por una Landing Page para mi negocio..."
                class="textarea-ghost w-full border-x-0 border-b border-t-0 border-orange-300 bg-neutral px-2 py-3 text-neutral-content transition-colors duration-300 placeholder:translate-y-full placeholder:text-sm placeholder:text-neutral-content placeholder:opacity-0 placeholder:transition-[opacity,transform] focus:text-neutral-content focus:placeholder:opacity-40 focus:empty:placeholder:-translate-y-1/4 focus-visible:border-b-[2px] focus-visible:border-amber-200"
            ></textarea>
            <div class="label">
                <span class="label-text-alt text-red-400"></span>
            </div>
        </label>
        <!-- End Tel Input -->
        <!-- Select Input -->
        <label class="form-control w-full">
            <div class="label">
                <span class="label-text text-neutral-content"
                    >Servicio Requerido:</span
                >
            </div>
            <select
                required
                id="serviceTypeInput"
                class="select select-ghost w-full border-x-0 border-b border-t-0 border-orange-300 bg-neutral px-2 py-3 text-neutral-content transition-colors duration-300 focus-visible:border-b-[2px] focus-visible:border-amber-200 focus-visible:text-neutral-content"
            >
                <option disabled selected>Tipo De Pagina</option>
                <option class="text-neutral-content">Asesoria Gratuita</option>
                <option class="text-neutral-content">Landing Page</option>
                <option class="text-neutral-content">Tienda Virtual</option>
                <option class="text-neutral-content"
                    >Aplicacion Web (PWA)</option
                >
            </select>
            <div class="label">
                <span class="label-text-alt text-red-400"></span>
            </div>
        </label>
        <!-- End Select Input -->
        <div
            class="rounded-2xl bg-gradient-to-br from-amber-400/80 to-black/60 p-[1px] shadow-xl"
        >
            <button
                class="from-[#FB923C]/ btn w-full rounded-2xl border-none bg-gradient-to-br to-orange-600/60 text-neutral-content"
                >Contactar Ahora</button
            >
        </div>
        <div
            class="divider text-sm text-neutral-content before:bg-amber-300/20 after:bg-amber-300/20"
        >
            o contacta por
        </div>
        <div class="flex justify-around">
            <!-- Facebook Btn -->
            <button
                class="btn btn-square btn-ghost flex items-center justify-center"
                ><svg
                    width="36"
                    height="36"
                    viewBox="0 0 36 36"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M30.5998 1.7998H5.3998C3.4198 1.7998 1.7998 3.4198 1.7998 5.3998V30.5998C1.7998 32.5816 3.4198 34.1998 5.3998 34.1998H17.9998V21.5998H14.3998V17.1448H17.9998V13.4548C17.9998 9.5596 20.1814 6.8236 24.7786 6.8236L28.024 6.8272V11.5162H25.8694C24.0802 11.5162 23.3998 12.859 23.3998 14.1046V17.1466H28.0222L26.9998 21.5998H23.3998V34.1998H30.5998C32.5798 34.1998 34.1998 32.5816 34.1998 30.5998V5.3998C34.1998 3.4198 32.5798 1.7998 30.5998 1.7998Z"
                        fill="#F97316"></path>
                </svg>
            </button>
            <!-- X Button -->
            <button
                class="btn btn-square btn-ghost flex items-center justify-center"
                ><svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <g clip-path="url(#clip0_24_687)">
                        <path
                            d="M18.9792 13.55L30.6357 0H27.8732L17.7522 11.765L9.66824 0H0.344238L12.5687 17.791L0.344238 32H3.10674L13.7952 19.5758L22.3322 32H31.6562L18.9785 13.55H18.9792ZM15.1957 17.9475L13.957 16.176L4.10199 2.0795H8.34499L16.2977 13.456L17.5362 15.2275L27.8745 30.015H23.632L15.1957 17.9482V17.9475Z"
                            fill="#F97316"></path>
                    </g>
                    <defs>
                        <clipPath id="clip0_24_687">
                            <rect width="32" height="32" fill="white"></rect>
                        </clipPath>
                    </defs>
                </svg>
            </button>
            <!-- Email Btn -->
            <button
                class="btn btn-square btn-ghost flex items-center justify-center"
                ><svg
                    width="44"
                    height="44"
                    viewBox="0 0 44 44"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M40.3332 10.9997C40.3332 8.98301 38.6832 7.33301 36.6665 7.33301H7.33317C5.3165 7.33301 3.6665 8.98301 3.6665 10.9997V32.9997C3.6665 35.0163 5.3165 36.6663 7.33317 36.6663H36.6665C38.6832 36.6663 40.3332 35.0163 40.3332 32.9997V10.9997ZM36.6665 10.9997L21.9998 20.1663L7.33317 10.9997H36.6665ZM36.6665 32.9997H7.33317V14.6663L21.9998 23.833L36.6665 14.6663V32.9997Z"
                        fill="#F97316"></path>
                </svg>
            </button>
        </div>
    </form>
</div>
<!-- End Form -->
<script>
    import { z } from 'zod'

    const FormSchema = z.object({
        nameInput: z
            .string({
                required_error: 'El Nombre suyo o de su negocio es requerido',
                invalid_type_error:
                    'El Nombre suyo o de su negocio es requerido',
            })
            .min(1, 'El nombre es requerido')
            .nullable(),
        emailInput: z.string().optional(),
        telInput: z
            .string({
                required_error: 'El Numero de telefono es necesario.',
                invalid_type_error: 'El Numero de telefono es necesario.',
            })
            .min(1, 'El Numero de telefono es necesario.')
            .nullable(),
        messageInput: z.string().optional(),
        serviceTypeInput: z
            .string({
                required_error: 'El servicio o asesoria es necesario.',
                invalid_type_error: 'El servicio o asesoria es necesario.',
            })
            .min(1, 'El servicio es requerido')
            .nullable()
            .refine((value) => value !== 'Tipo De Pagina', {
                message: 'Por favor, selecciona un servicio.',
            }),
    })

    const formulario = document.getElementById('contactForm')
    const userName = document.getElementById('nameInput')
    const userEmail = document.getElementById('emailInput')
    const userTel = document.getElementById('telInput')
    const message = document.getElementById('messageInput')
    const serviceType = document.getElementById('serviceTypeInput')

    function validateAndSendWhatsapp() {
        const formValues = {
            nameInput: userName.value
                .toLowerCase()
                .replace(/\b(\w)/g, (s) => s.toUpperCase()),
            emailInput: userEmail.value,
            telInput: userTel.value,
            messageInput: message.value,
            serviceTypeInput: serviceType.value,
        }
        //form validation
        const validation = FormSchema.safeParse(formValues)
        if (validation.success) {
            const Finalmessage = validation.data.messageInput
                ? validation.data.messageInput
                : `Hola, te habla ${validation.data.nameInput}, me comunicaba para averiguar por una ${validation.data.serviceTypeInput}. Mi numero de contacto es: ${validation.data.telInput} ${validation.data.emailInput ? `y mi email es: ${validation.data.emailInput}` : ''}. `
            console.log(Finalmessage)
        } else {
            const errors = validation.error.errors
            errors.forEach((err) => {
                const errorPath = document.getElementById(err.path[0])
                const errorSpan = errorPath.parentNode.querySelector(
                    'div  .label .label-text-alt'
                )
                errorSpan.innerHTML = err.message
                console.log(err)
            })
        }

        // window.location.href = 'link'
    }
    formulario.addEventListener('submit', (ev) => {
        ev.preventDefault()
        const formFields = [
            'nameInput',
            'emailInput',
            'telInput',
            'messageInput',
            'serviceTypeInput',
        ]
        formFields.forEach((field) => {
            const fieldElement = document.getElementById(field)
            const errorSpan = fieldElement.parentNode.querySelector(
                'div .label .label-text-alt'
            )
            errorSpan.innerHTML = ''
        })
        validateAndSendWhatsapp()
    })
</script>
